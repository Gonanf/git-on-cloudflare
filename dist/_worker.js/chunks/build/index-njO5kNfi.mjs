import{v as e,b as t,c as n,I as a,d as r,u as o,e as s,g as i,l as c,f as l}from"./server.mjs";import"../nitro/nitro.mjs";import"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";const u={trailing:!0};function debounce(e,t=25,n={}){if(n={...u,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let a,r,o,s,i=[];const applyFn=(t,a)=>(o=async function(e,t,n){return await e.apply(t,n)}(e,t,a),o.finally(()=>{if(o=null,n.trailing&&s&&!r){const e=applyFn(t,s);return s=null,e}}),o),debounced=function(...e){return n.trailing&&(s=e),o||new Promise(o=>{const c=!r&&n.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const t=n.leading?a:applyFn(this,e);s=null;for(const e of i)e(t);i=[]},t),c?(a=applyFn(this,e),o(a)):i.push(o)})},_clearTimeout=e=>{e&&(clearTimeout(e),r=null)};return debounced.isPending=()=>!!r,debounced.cancel=()=>{_clearTimeout(r),i=[],s=null},debounced.flush=()=>{if(_clearTimeout(r),!s||o)return;const e=s;return s=null,applyFn(this,e)},debounced}const d=Object.freeze({left:0,top:0,width:16,height:16}),f=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),p=Object.freeze({...d,...f});Object.freeze({...p,body:"",hidden:!1});const m=/(-?[0-9.]*[0-9]+[0-9.]*)/g,h=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;const a=e.split(m);if(null===a||!a.length)return e;const r=[];let o=a.shift(),s=h.test(o);for(;;){if(s){const e=parseFloat(o);isNaN(e)?r.push(o):r.push(Math.ceil(e*t*n)/n)}else r.push(o);if(o=a.shift(),void 0===o)return r.join("");s=!s}}const g=Object.freeze({width:null,height:null}),y=Object.freeze({...g,...f});function getCommonCSSRules(e){const t={display:"inline-block",width:"1em",height:"1em"},n=e.varName;switch(e.pseudoSelector&&(t.content="''"),e.mode){case"background":n&&(t["background-image"]="var(--"+n+")"),t["background-repeat"]="no-repeat",t["background-size"]="100% 100%";break;case"mask":t["background-color"]="currentColor",n&&(t["mask-image"]=t["-webkit-mask-image"]="var(--"+n+")"),t["mask-repeat"]=t["-webkit-mask-repeat"]="no-repeat",t["mask-size"]=t["-webkit-mask-size"]="100% 100%"}return t}function generateItemCSSRules(e,t){const n={},a=t.varName,r=function(e,t){const n={...p,...e},a={...y,...t},r={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,a].forEach(e=>{const t=[],n=e.hFlip,a=e.vFlip;let s,i=e.rotate;switch(n?a?i+=2:(t.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),t.push("scale(-1 1)"),r.top=r.left=0):a&&(t.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),t.push("scale(1 -1)"),r.top=r.left=0),i<0&&(i-=4*Math.floor(i/4)),i%=4,i){case 1:s=r.height/2+r.top,t.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:t.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:s=r.width/2+r.left,t.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")")}i%2==1&&(r.left!==r.top&&(s=r.left,r.left=r.top,r.top=s),r.width!==r.height&&(s=r.width,r.width=r.height,r.height=s)),t.length&&(o=function(e,t,n){const a=function(e,t="defs"){let n="";const a=e.indexOf("<"+t);for(;a>=0;){const r=e.indexOf(">",a),o=e.indexOf("</"+t);if(-1===r||-1===o)break;const s=e.indexOf(">",o);if(-1===s)break;n+=e.slice(r+1,o).trim(),e=e.slice(0,a).trim()+e.slice(s+1)}return{defs:n,content:e}}(e);return r=a.defs,o=t+a.content+n,r?"<defs>"+r+"</defs>"+o:o;var r,o}(o,'<g transform="'+t.join(" ")+'">',"</g>"))});const s=a.width,i=a.height,c=r.width,l=r.height;let u,d;null===s?(d=null===i?"1em":"auto"===i?l:i,u=calculateSize(d,c/l)):(u="auto"===s?c:s,d=null===i?calculateSize(u,l/c):"auto"===i?l:i);const f={},setAttr=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(f[e]=t.toString())};setAttr("width",u),setAttr("height",d);const m=[r.left,r.top,c,l];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:o}}(e);let o=r.viewBox;o[2]!==o[3]&&(t.forceSquare?o=function(e){const[t,n,a,r]=e;if(a!==r){const e=Math.max(a,r);return[t-(e-a)/2,n-(e-r)/2,e,e]}return e}(o):n.width=calculateSize("1em",o[2]/o[3]));const s=function(e){return'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(e)+'")'}(function(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)n+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(r.body.replace(/currentColor/g,t.color||"black"),{viewBox:`${o[0]} ${o[1]} ${o[2]} ${o[3]}`,width:`${o[2]}`,height:`${o[3]}`}));if(a)n["--"+a]=s;else switch(t.mode){case"background":n["background-image"]=s;break;case"mask":n["mask-image"]=n["-webkit-mask-image"]=s}return n}const v={selectorStart:{compressed:"{",compact:" {",expanded:" {"},selectorEnd:{compressed:"}",compact:"; }\n",expanded:";\n}\n"},rule:{compressed:"{key}:",compact:" {key}: ",expanded:"\n  {key}: "}};function getIconCSS(e,t={}){const n=t.customise?t.customise(e.body):e.body,a=t.mode||(t.color||!n.includes("currentColor")?"background":"mask");let r=t.varName;void 0===r&&"mask"===a&&(r="svg");const o={...t,mode:a,varName:r};"background"===a&&delete o.varName;const s={...t.rules,...getCommonCSSRules(o),...generateItemCSSRules({...p,...e,body:n},o)};return function(e,t="expanded"){const n=[];for(let a=0;a<e.length;a++){const{selector:r,rules:o}=e[a];let s=(r instanceof Array?r.join("compressed"===t?",":", "):r)+v.selectorStart[t],i=!0;for(const e in o)i||(s+=";"),s+=v.rule[t].replace("{key}",e)+o[e],i=!1;s+=v.selectorEnd[t],n.push(s)}return n.join("compressed"===t?"":"\n")}([{selector:t.iconSelector||".icon",rules:s}],o.format)}async function loadIcon(e,t){if(!e)return null;const n=i(e);if(n)return n;let a;const r=c(e).catch(()=>(console.warn(`[Icon] failed to load icon \`${e}\``),null));return t>0?await Promise.race([r,new Promise(n=>{a=setTimeout(()=>{console.warn(`[Icon] loading icon \`${e}\` timed out after ${t}ms`),n()},t)})]).finally(()=>clearTimeout(a)):await r,i(e)}function useResolvedName(t){const a=n().icon,r=(a.collections||[]).sort((e,t)=>t.length-e.length);return e.computed(()=>{const e=t(),n=e.startsWith(a.cssSelectorPrefix)?e.slice(a.cssSelectorPrefix.length):e,o=a.aliases?.[n]||n;if(!o.includes(":")){const e=r.find(e=>o.startsWith(e+"-"));return e?e+":"+o.slice(e.length+1):o}return o})}function resolveCustomizeFn(e,t){if(!1!==e)return!0===e||null===e?t:e}const b="NUXT_ICONS_SERVER_CSS";const w=e.defineComponent({name:"NuxtIconCss",props:{name:{type:String,required:!0},customize:{type:[Function,Boolean,null],default:null,required:!1}},setup(a){const s=t(),i=n().icon,c=e.computed(()=>a.name?i.cssSelectorPrefix+a.name:""),l=e.computed(()=>"."+function(e){return e.replace(/([^\w-])/g,"\\$1")}(c.value));return e.onServerPrefetch(async()=>{{const e=r().icon||{};if(!e?.serverKnownCssClasses?.includes(c.value)){const e=await loadIcon(a.name,i.fetchTimeout).catch(()=>null);if(!e)return null;let t=s.vueApp._context.provides[b];if(t||(t=s.vueApp._context.provides[b]=new Map,s.runWithContext(()=>{o({style:[()=>{let e=Array.from(t.values()).sort().join("");return i.cssLayer&&(e=`@layer ${i.cssLayer} {${e}}`),{innerHTML:e}}]},{tagPriority:"low"})})),a.name&&!t.has(a.name)){const n=function(e,t=!0){let n=l.value;i.cssWherePseudo&&(n=`:where(${n})`);const r=getIconCSS(e,{iconSelector:n,format:"compressed",customise:resolveCustomizeFn(a.customize,i.customize)});return i.cssLayer&&t?`@layer ${i.cssLayer} { ${r} }`:r}(e,!1);t.set(a.name,n)}return null}}}),()=>e.h("span",{class:["iconify",c.value]})}}),_=Symbol.for("nuxt:client-only");function useAsyncData(...n){const a="string"==typeof n[n.length-1]?n.pop():void 0;(function(e,t){if("string"==typeof e)return!1;if("object"==typeof e&&null!==e)return!1;if("function"==typeof e&&"function"==typeof t)return!1;return!0})(n[0],n[1])&&n.unshift(a);let[r,o,i={}]=n;const c=e.computed(()=>e.toValue(r));if("string"!=typeof c.value)throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if("function"!=typeof o)throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const u=t();function createInitialFetch(){const t={cause:"initial",dedupe:i.dedupe};return u._asyncData[c.value]?._init||(t.cachedData=i.getCachedData(c.value,u,{cause:"initial"}),u._asyncData[c.value]=function(t,n,a,r,o){t.payload._errors[n]??=void 0;const s=r.getCachedData!==getDefaultCachedData,i=a,c=r.deep?e.ref:e.shallowRef,u=void 0!==o,d=t.hook("app:data:refresh",async e=>{e&&!e.includes(n)||await f.execute({cause:"refresh:hook"})}),f={data:c(u?o:r.default()),pending:e.computed(()=>"pending"===f.status.value),error:e.toRef(t.payload._errors,n),status:e.shallowRef("idle"),execute:(...a)=>{const[o,s]=a,c=o&&void 0===s&&"object"==typeof o?o:{};if(t._asyncDataPromises[n]&&"defer"===(c.dedupe??r.dedupe))return t._asyncDataPromises[n];{const e="cachedData"in c?c.cachedData:r.getCachedData(n,t,{cause:c.cause??"refresh:manual"});if(void 0!==e)return t.payload.data[n]=f.data.value=e,f.error.value=void 0,f.status.value="success",Promise.resolve(e)}f._abortController&&f._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),f._abortController=new AbortController,f.status.value="pending";const u=new Promise((e,n)=>{try{const a=c.timeout??r.timeout,o=function(e,t){const n=e.filter(e=>!!e);if("number"==typeof t&&t>=0){const e=AbortSignal.timeout?.(t);e&&n.push(e)}if(AbortSignal.any)return AbortSignal.any(n);const a=new AbortController;for(const e of n)if(e.aborted){const t=e.reason??new DOMException("Aborted","AbortError");try{a.abort(t)}catch{a.abort()}return a.signal}const onAbort=()=>{const e=n.find(e=>e.aborted),t=e?.reason??new DOMException("Aborted","AbortError");try{a.abort(t)}catch{a.abort()}};for(const e of n)e.addEventListener?.("abort",onAbort,{once:!0});return a.signal}([f._abortController?.signal,c?.signal],a);if(o.aborted){const e=o.reason;return void n(e instanceof Error?e:new DOMException(String(e??"Aborted"),"AbortError"))}return o.addEventListener("abort",()=>{const e=o.reason;n(e instanceof Error?e:new DOMException(String(e??"Aborted"),"AbortError"))},{once:!0}),Promise.resolve(i(t,{signal:o})).then(e,n)}catch(e){n(e)}}).then(async e=>{let a=e;r.transform&&(a=await r.transform(e)),r.pick&&(a=function(e,t){const n={};for(const a of t)n[a]=e[a];return n}(a,r.pick)),t.payload.data[n]=a,f.data.value=a,f.error.value=void 0,f.status.value="success"}).catch(a=>{t._asyncDataPromises[n]&&t._asyncDataPromises[n]!==u||f._abortController?.signal.aborted||("undefined"!=typeof DOMException&&a instanceof DOMException&&"AbortError"===a.name?f.status.value="idle":(f.error.value=l(a),f.data.value=e.unref(r.default()),f.status.value="error"))}).finally(()=>{delete t._asyncDataPromises[n]});return t._asyncDataPromises[n]=u,t._asyncDataPromises[n]},_execute:debounce((...e)=>f.execute(...e),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{d(),t._asyncData[n]?._init&&(t._asyncData[n]._init=!1),s||e.nextTick(()=>{t._asyncData[n]?._init||(clearNuxtDataByKey(t,n),f.execute=()=>Promise.resolve())})}};return f}(u,c.value,o,i,t.cachedData)),()=>u._asyncData[c.value].execute(t)}i.server??=!0,i.default??=getDefault,i.getCachedData??=getDefaultCachedData,i.lazy??=!1,i.immediate??=!0,i.deep??=s.deep,i.dedupe??="cancel",i._functionName,u._asyncData[c.value];const d=createInitialFetch();u._asyncData[c.value]._deps++;if(!1!==i.server&&u.payload.serverRendered&&i.immediate){const t=d();e.getCurrentInstance()?e.onServerPrefetch(()=>t):u.hook("app:created",async()=>{await t})}const f={data:writableComputedRef(()=>u._asyncData[c.value]?.data),pending:writableComputedRef(()=>u._asyncData[c.value]?.pending),status:writableComputedRef(()=>u._asyncData[c.value]?.status),error:writableComputedRef(()=>u._asyncData[c.value]?.error),refresh:(...e)=>{if(!u._asyncData[c.value]?._init){return createInitialFetch()()}return u._asyncData[c.value].execute(...e)},execute:(...e)=>f.refresh(...e),clear:()=>{const e=u._asyncData[c.value];if(e?._abortController)try{e._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{e._abortController=void 0}clearNuxtDataByKey(u,c.value)}},p=Promise.resolve(u._asyncDataPromises[c.value]).then(()=>f);return Object.assign(p,f),p}function writableComputedRef(t){return e.computed({get:()=>t()?.value,set(e){const n=t();n&&(n.value=e)}})}function clearNuxtDataByKey(t,n){n in t.payload.data&&(t.payload.data[n]=void 0),n in t.payload._errors&&(t.payload._errors[n]=void 0),t._asyncData[n]&&(t._asyncData[n].data.value=e.unref(t._asyncData[n]._default()),t._asyncData[n].error.value=void 0,t._asyncData[n].status.value="idle"),n in t._asyncDataPromises&&(t._asyncDataPromises[n]=void 0)}e.defineComponent({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:n,attrs:a}){const r=e.shallowRef(!1),o=e.getCurrentInstance();return o&&(o._nuxtClientOnly=!0),e.provide(_,!0),()=>{if(r.value){const t=n.default?.();return t&&1===t.length?[e.cloneVNode(t[0],a)]:t}const o=n.fallback||n.placeholder;if(o)return e.h(o);const s=t.fallback||t.placeholder||"",i=t.fallbackTag||t.placeholderTag||"span";return e.createElementBlock(i,a,s)}}});const getDefault=()=>{},getDefaultCachedData=(e,t,n)=>t.isHydrating?t.payload.data[e]:"refresh:manual"!==n.cause&&"refresh:hook"!==n.cause?t.static.data[e]:void 0;const x=e.defineComponent({name:"NuxtIconSvg",props:{name:{type:String,required:!0},customize:{type:[Function,Boolean,null],default:null,required:!1}},setup(r,{slots:o}){t();const s=n().icon,i=useResolvedName(()=>r.name),c="i-"+i.value;return i.value&&e.onServerPrefetch(async()=>{await useAsyncData(c,async()=>await loadIcon(i.value,s.fetchTimeout),{deep:!1})}),()=>e.h(a,{icon:i.value,ssr:!0,customise:resolveCustomizeFn(r.customize,s.customize)},o)}}),S=e.defineComponent({name:"NuxtIcon",props:{name:{type:String,required:!0},mode:{type:String,required:!1,default:null},size:{type:[Number,String],required:!1,default:null},customize:{type:[Function,Boolean,null],default:null,required:!1}},setup(a,{slots:r}){const o=t(),s=n().icon,i=useResolvedName(()=>a.name),c=e.computed(()=>o.vueApp?.component(i.value)||("svg"===(a.mode||s.mode)?x:w)),l=e.computed(()=>{const e=a.size||s.size;return e?{fontSize:Number.isNaN(+e)?e:e+"px"}:null});return()=>e.h(c.value,{...s.attrs,name:i.value,class:s.class,style:l.value,customize:a.customize},r)}});export{S as default};
//# sourceMappingURL=index-njO5kNfi.mjs.map
