{% layout 'layout' %}
{% block %}
<header class="page-header">
  <h2 class="m-0">Error</h2>
  <div></div>
</header>

<div class="space-y-6">
  <div class="alert error">
    <div class="font-semibold">Something went wrong</div>
    {% if message %}
      <div class="mt-1 text-sm muted">{{ message }}</div>
    {% endif %}
  </div>

  {% if stack %}
    <details class="card p-4">
      <summary class="cursor-pointer select-none">Stack trace</summary>
      <pre class="mt-3 overflow-auto whitespace-pre-wrap">{{ stack }}</pre>
    </details>
  {% endif %}

  <div class="flex flex-wrap gap-3">
    <a class="btn" href="/">Home</a>
    {% if owner and repo %}
      <a class="btn secondary" href="/{{ owner }}/{{ repo }}">Repository</a>
    {% endif %}
    {% if owner and repo and refEnc %}
      <a
        class="btn secondary"
        href="/{{ owner }}/{{ repo }}/tree?ref={{ refEnc }}{% if path %}&path={{ path }}{% endif %}"
        >Browse</a
      >
    {% endif %}
  </div>
</div>
{% endblock %}
