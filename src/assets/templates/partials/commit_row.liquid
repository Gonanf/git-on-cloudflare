{% comment %}
  Renders a single commit table row. Expects:
  - owner, repo
  - commit: { oid, shortOid, firstLine, authorName, when }
  - compact (optional): render in a smaller style when true
  - isMerge (optional): if true, show a small Merge badge in message
  - rowClass (optional): extra classes on the <tr> for styling (e.g., left border, bg)
  - mergeOf (optional): OID of merge this row belongs to; used to collapse inserted rows
{% endcomment %}
<tr
  class="{% if compact %}text-sm subrow bg-indigo-50/20 dark:bg-indigo-900/10 border-l-2 border-l-indigo-400 dark:border-l-indigo-700 border-b border-b-gray-200 dark:border-b-gray-700{% endif %}{% if rowClass %} {{ rowClass }}{% endif %}"
  {% if mergeOf %}
    data-merge-of="{{ mergeOf }}"
  {% endif %}
  {% if toggleOid %}
    data-merge-oid="{{ toggleOid }}"
  {% endif %}
>
  <td>
    <a href="/{{ owner }}/{{ repo }}/commit/{{ commit.oid }}">{{ commit.shortOid }}</a>
  </td>
  <td class="{% if compact %}pl-6{% endif %}">
    {% if isMerge %}
      <span class="merge-badge inline-block px-2 py-0.5 text-xs rounded bg-sky-100 text-sky-900 dark:bg-sky-500/20 dark:text-sky-300 dark:border dark:border-sky-500/40 mr-2"
        >Merge</span
      >
    {% endif %}
    {{ commit.firstLine }}
  </td>
  <td class="muted">{{ commit.authorName }}</td>
  <td class="muted">{{ commit.when }}</td>
</tr>
