{% layout 'layout' %}
{% block %}
{% render 'repo_nav', owner: owner, repo: repo, refEnc: refEnc, currentTab: 'browse' %}
{% render 'progress', progress: progress %}
<h2>Tree</h2>
{% if breadcrumbs %}
  <nav class="breadcrumb">
    {% if parentHref %}
      <a
        href="{{ parentHref }}"
        class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"
        >..</a
      >
      <span class="text-gray-400">/</span>
    {% endif %}
    {% for crumb in breadcrumbs %}
      {% if crumb.href %}
        <a href="{{ crumb.href }}">{{ crumb.name }}</a>
        {% unless forloop.last %} / {% endunless %}
      {% else %}
        <strong>{{ crumb.name }}</strong>
      {% endif %}
    {% endfor %}
  </nav>
{% endif %}
<table class="mt-4 rounded-lg overflow-hidden shadow-xs border border-gray-200 dark:border-gray-700">
  <thead>
    <tr>
      <th>Name</th>
      <th>OID</th>
    </tr>
  </thead>
  <tbody>
    {% if entries and entries.size > 0 %}
      {% for entry in entries %}
        <tr>
          <td>
            {% if entry.isDir %}
              <svg
                class="inline w-4 h-4 text-amber-600 dark:text-amber-400 mr-1 align-[-2px]"
                viewBox="0 0 24 24"
                fill="currentColor"
                aria-hidden="true"
              >
                <path d="M3 7a2 2 0 012-2h4l2 2h8a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"></path>
              </svg>
            {% else %}
              <svg
                class="inline w-4 h-4 text-slate-500 dark:text-slate-400 mr-1 align-[-2px]"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                aria-hidden="true"
              >
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="8" y1="13" x2="16" y2="13"></line>
                <line x1="8" y1="17" x2="16" y2="17"></line>
              </svg>
            {% endif %}
            <a href="{{ entry.href }}">{{ entry.name }}</a>
          </td>
          <td class="muted">{{ entry.shortOid }}</td>
        </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td class="muted" colspan="2">(empty)</td>
      </tr>
    {% endif %}
  </tbody>
</table>
{% endblock %}
